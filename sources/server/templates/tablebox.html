<link rel="stylesheet" href="{{ static_url('css/table.css') }}" type="text/css">
    {% for category in current_user.categories %}
    <table class="ui_table">
        <caption>{{ category.name }}</caption>
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Date</th>
                <th scope="col">Title</th>
                <th scope="col">Amount</th>
            </tr>
        </thead>
        <tbody>
            {% set i = 1 %}
            {% for budget in category.budgets %}
            <tr>
                <td col-type="num">{{ i }}</td>
                <td col-type="date">{{ budget.date }}</td>
                <td col-type="title">{{ budget.title }}</td>
                <td col-type="amount" currency={{ budget.currency }}>{{ str(budget.amount) }}</td>
            </tr>
            {% set i += 1 %}
            {% end %}
            <tr row-type="add-row">
                <form action="/category/{{ category.name }}?next={{ url_escape(request.uri) }}" method="POST">
                <td> <input type="submit" value="add +"> </td>
                <td> <input name="date" type="date" value="{{ default_date }}" data-date-format="YYYY-MM-DD" required=""> </td>
                <td> <input name="title" type="text" placeholder="title" required="true"> </td>
                <td> <input name="amount" type="number" type="number" step="0.01" placeholder="0.0" required="true"> </td>
                </form>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th colspan="3" scope="row">Total:</th>
                <td currency={{ category.total_currency() }}>{{ category.sum() }}</td>
            </tr>
        </tfoot>
    </table>
    {% end %}
