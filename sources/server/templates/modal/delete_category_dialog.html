<div class="modal fade" id="deleteCategoryDialog" tabindex="-1" role="dialog" aria-labelledby="deleteCategoryDialogLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <form id="deleteCategoryForm" action="/category/delete?next={{ url_escape(request.uri) }}" method="POST">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold" id="deleteCategoryDialogLabel">{{ _("Remove preferred category") }}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body d-flex flex-column align-items-center">
          <label class="text-center">{{ _("Do you want to remove category from the preferred list?") }}</label>
          <div class="form-group form-check mt-1 mb-0">
            <input name="delete_items" type="checkbox" class="form-check-input" id="deletItemsCheck">
            <label class="form-check-label" for="deletItemsCheck">{{ _("Delete all category items") }}</label>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">{{ _("Cancel") }}</button>
          <button type="submit" class="btn btn-primary">{{ _("Remove") }}</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
$('#deleteCategoryDialog').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget) // Button that triggered the modal
  var category_id = button.data('pbt-category-id') // Extract info from data-* attributes

  $('#deleteCategoryForm').prop("action", function( i, val ) {
    return val + "&id=" + category_id;
  })
})
</script>
